import { Bezier } from "../lib/bezier.js";
export var ToolMode;
(function (ToolMode) {
	ToolMode[ToolMode["NotPlaced"] = 0] = "NotPlaced";
	ToolMode[ToolMode["Placing"] = 1] = "Placing";
	ToolMode[ToolMode["Placed"] = 2] = "Placed";
})(ToolMode || (ToolMode = {}));
export class BezierTool {
	constructor() {
		this._mode = ToolMode.NotPlaced;
		this.lastSegmentFetch = [];
		this.bezier = new Bezier(this.initialPoints());
	}
	get lineCenter() {
		return new PIXI.Point(this.lineA.x + ((this.lineB.x - this.lineA.x) / 2), this.lineA.y + ((this.lineB.y - this.lineA.y) / 2));
	}
	get mode() { return this._mode; }
	;
	setMode(value) {
		this._mode = value;
		if (this._mode == ToolMode.Placed) {
			$(`button[data-tool="bezierapply"]`).show();
			$(`button[data-tool="beziercancel"]`).show();
			this.showTools();
		}
		else {
			$(`button[data-tool="bezierapply"]`).hide();
			$(`button[data-tool="beziercancel"]`).hide();
			this.hideTools();
		}
	}
	;
	getSegments(count) {
		if (this.mode == ToolMode.NotPlaced)
			return [];
		this.bezier.points = this.handles;
		this.bezier.update();
		return (this.lastSegmentFetch = this.bezier.getLUT(count + 2).map((e) => new PIXI.Point(e.x, e.y)));
	}
	clearTool() {
		this.setMode(ToolMode.NotPlaced);
	}
	static createText(text) {
		const result = new PreciseText(text, BezierTool.TEXT_STYLE);
		result.anchor.set(0.5, 0.5);
		return result;
	}
	drawSegmentLabel(context) {
		const text = BezierTool.createText(`‚ä∑${this.lastSegmentFetch.length - 1}`);
		text.position = this.lineCenter;
		context.addChild(text);
	}
	drawBoundingBox(context) {
		const bounds = this.bounds.getRectangle(PIXI.Rectangle.EMPTY);
		context.beginFill(0, 0)
			.lineStyle(BezierTool.LINE_SIZE, 0xE88D2D, 1, 0.5)
			.drawRoundedRect(bounds.left - 10, bounds.top - 10, bounds.width + 20, bounds.height + 20, 10)
			.endFill();
	}
	drawHandle(context, fill, point) {
		return context.beginFill(fill, 1)
			.lineStyle(BezierTool.LINE_SIZE, 0x0, 1, 0.5)
			.drawCircle(point.x, point.y, BezierTool.HANDLE_RADIUS)
			.endFill();
	}
	static pointNearPoint(a, b, threshold) {
		var x = a.x - b.x;
		var y = a.y - b.y;
		return ((x * x) + (y * y)) <= (threshold * threshold); // super simple and efficient Squared Length circle collision
	}
}
BezierTool.HANDLE_RADIUS = 6;
BezierTool.LINE_SIZE = 2;
// Define the text style
BezierTool.TEXT_STYLE = new PIXI.TextStyle({
	fontFamily: CONFIG.defaultFontFamily,
	fontSize: 24,
	fill: "#BBBBBB",
	stroke: "#111111",
	strokeThickness: 1,
	dropShadow: false,
	dropShadowColor: "#000000",
	dropShadowBlur: Math.max(Math.round(24 / 16), 2),
	dropShadowAngle: 0,
	dropShadowDistance: 0,
	padding: 1
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2RmLWN1cnZ5LXdhbGxzL3NyYy90b29scy9CZXppZXJUb29sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUkxQyxNQUFNLENBQU4sSUFBWSxRQUlYO0FBSkQsV0FBWSxRQUFRO0lBQ25CLGlEQUFTLENBQUE7SUFDVCw2Q0FBTyxDQUFBO0lBQ1AsMkNBQU0sQ0FBQTtBQUNQLENBQUMsRUFKVyxRQUFRLEtBQVIsUUFBUSxRQUluQjtBQUVELE1BQU0sT0FBZ0IsVUFBVTtJQThDL0I7UUE1QlEsVUFBSyxHQUFhLFFBQVEsQ0FBQyxTQUFTLENBQUM7UUFFbkMscUJBQWdCLEdBQWlCLEVBQUUsQ0FBQztRQTJCN0MsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBdEJELElBQUksVUFBVTtRQUNiLE9BQU8sSUFBSSxJQUFJLENBQUMsS0FBSyxDQUNwQixJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFDbEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0RCxDQUFDO0lBQ0QsSUFBSSxJQUFJLEtBQWUsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUFBLENBQUM7SUFDbEMsT0FBTyxDQUFDLEtBQWU7UUFDaEMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxJQUFJLENBQUMsS0FBSyxJQUFJ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QUMsRUFBRSxVQUFVLENBQUMsYUFBYSxDQUFDO2FBQ3RELE9BQU8sRUFBRSxDQUFDO0lBQ2IsQ0FBQztJQUVELE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBMkIsRUFBRSxDQUEyQixFQUFFLFNBQWlCO1FBQ2hHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEIsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyw2REFBNkQ7SUFDckgsQ0FBQzs7QUEvRnNCLHdCQUFhLEdBQVcsQ0FBQyxDQUFDO0FBQzFCLG9CQUFTLEdBQVcsQ0FBQyxDQUFDO0FBQzdDLHdCQUF3QjtBQUNELHFCQUFVLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3RELFVBQVUsRUFBRSxNQUFNLENBQUMsaUJBQWlCO0lBQ3BDLFFBQVEsRUFBRSxFQUFFO0lBQ1osSUFBSSxFQUFFLFNBQVM7SUFDZixNQUFNLEVBQUUsU0FBUztJQUNqQixlQUFlLEVBQUUsQ0FBQztJQUNsQixVQUFVLEVBQUUsS0FBSztJQUNqQixlQUFlLEVBQUUsU0FBUztJQUMxQixjQUFjLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDaEQsZUFBZSxFQUFFLENBQUM7SUFDbEIsa0JBQWtCLEVBQUUsQ0FBQztJQUNyQixPQUFPLEVBQUUsQ0FBQztDQUNWLENBQUMsQ0FBQyIsImZpbGUiOiJ0b29scy9CZXppZXJUb29sLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmV6aWVyIH0gZnJvbSBcIi4uL2xpYi9iZXppZXIuanNcIjtcbmltcG9ydCB7IElucHV0SGFuZGxlciB9IGZyb20gXCIuL1Rvb2xJbnB1dEhhbmRsZXIuanNcIjtcbmltcG9ydCB7IFRvb2xVSSB9IGZyb20gJy4uL0JlemllclRvb2xCYXIuanMnO1xuXG5leHBvcnQgZW51bSBUb29sTW9kZSB7XG5cdE5vdFBsYWNlZCxcblx0UGxhY2luZyxcblx0UGxhY2VkXG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCZXppZXJUb29sIHtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBIQU5ETEVfUkFESVVTOiBudW1iZXIgPSA2O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExJTkVfU0laRTogbnVtYmVyID0gMjtcblx0Ly8gRGVmaW5lIHRoZSB0ZXh0IHN0eWxlXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVEVYVF9TVFlMRSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7XG5cdFx0Zm9udEZhbWlseTogQ09ORklHLmRlZmF1bHRGb250RmFtaWx5LFxuXHRcdGZvbnRTaXplOiAyNCxcblx0XHRmaWxsOiBcIiNCQkJCQkJcIixcblx0XHRzdHJva2U6IFwiIzExMTExMVwiLFxuXHRcdHN0cm9rZVRoaWNrbmVzczogMSxcblx0XHRkcm9wU2hhZG93OiBmYWxzZSxcblx0XHRkcm9wU2hhZG93Q29sb3I6IFwiIzAwMDAwMFwiLFxuXHRcdGRyb3BTaGFkb3dCbHVyOiBNYXRoLm1heChNYXRoLnJvdW5kKDI0IC8gMTYpLCAyKSxcblx0XHRkcm9wU2hhZG93QW5nbGU6IDAsXG5cdFx0ZHJvcFNoYWRvd0Rpc3RhbmNlOiAwLFxuXHRcdHBhZGRpbmc6IDFcblx0fSk7XG5cblx0cHJpdmF0ZSBfbW9kZTogVG9vbE1vZGUgPSBUb29sTW9kZS5Ob3RQbGFjZWQ7XG5cdHByb3RlY3RlZCBiZXppZXI6IEJlemllcjtcblx0cHJvdGVjdGVkIGxhc3RTZWdtZW50RmV0Y2g6IFBJWEkuUG9pbnRbXSA9IFtdO1xuXHRhYnN0cmFjdCBnZXQgaGFuZGxlcygpOiBQSVhJLlBvaW50W11cblx0YWJzdHJhY3QgZ2V0IGJvdW5kcygpOiBQSVhJLkJvdW5kcztcblx0YWJzdHJhY3QgbGluZUE6IFBJWEkuUG9pbnQ7XG5cdGFic3RyYWN0IGxpbmVCOiBQSVhJLlBvaW50O1xuXG5cdGdldCBsaW5lQ2VudGVyKCk6IFBJWEkuUG9pbnQge1xuXHRcdHJldHVybiBuZXcgUElYSS5Qb2ludChcblx0XHRcdHRoaXMubGluZUEueCArICgodGhpcy5saW5lQi54IC0gdGhpcy5saW5lQS54KSAvIDIpLFxuXHRcdFx0dGhpcy5saW5lQS55ICsgKCh0aGlzLmxpbmVCLnkgLSB0aGlzLmxpbmVBLnkpIC8gMikpO1xuXHR9XG5cdGdldCBtb2RlKCk6IFRvb2xNb2RlIHsgcmV0dXJuIHRoaXMuX21vZGU7IH07XG5cdHByb3RlY3RlZCBzZXRNb2RlKHZhbHVlOiBUb29sTW9kZSkge1xuXHRcdHRoaXMuX21vZGUgPSB2YWx1ZTtcblx0XHRpZiAodGhpcy5fbW9kZSA9PSBUb29sTW9kZS5QbGFjZWQpIHtcblx0XHRcdCQoYGJ1dHRvbltkYXRhLXRvb2w9XCJiZXppZXJhcHBseVwiXWApLnNob3coKTtcblx0XHRcdCQoYGJ1dHRvbltkYXRhLXRvb2w9XCJiZXppZXJjYW5jZWxcIl1gKS5zaG93KCk7XG5cdFx0XHR0aGlzLnNob3dUb29scygpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdCQoYGJ1dHRvbltkYXRhLXRvb2w9XCJiZXppZXJhcHBseVwiXWApLmhpZGUoKTtcblx0XHRcdCQoYGJ1dHRvbltkYXRhLXRvb2w9XCJiZXppZXJjYW5jZWxcIl1gKS5oaWRlKCk7XG5cdFx0XHR0aGlzLmhpZGVUb29scygpO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLmJlemllciA9IG5ldyBCZXppZXIodGhpcy5pbml0aWFsUG9pbnRzKCkpO1xuXHR9XG5cdGFic3RyYWN0IGluaXRpYWxQb2ludHMoKTogbnVtYmVyW107XG5cdGFic3RyYWN0IGRyYXdIYW5kbGVzKGNvbnRleHQ6IFBJWEkuR3JhcGhpY3MpOiB2b2lkO1xuXHRhYnN0cmFjdCBjaGVja1BvaW50Rm9yRHJhZyhwb2ludDogUElYSS5Qb2ludCk6IElucHV0SGFuZGxlciB8IG51bGw7XG5cblx0Z2V0U2VnbWVudHMoY291bnQ6IG51bWJlcik6IFBJWEkuUG9pbnRbXSB7XG5cdFx0aWYgKHRoaXMubW9kZSA9PSBUb29sTW9kZS5Ob3RQbGFjZWQpIHJldHVybiBbXTtcblx0XHR0aGlzLmJlemllci5wb2ludHMgPSB0aGlzLmhhbmRsZXM7XG5cdFx0dGhpcy5iZXppZXIudXBkYXRlKCk7XG5cdFx0cmV0dXJuICh0aGlzLmxhc3RTZWdtZW50RmV0Y2ggPSB0aGlzLmJlemllci5nZXRMVVQoY291bnQgKyAyKS5tYXAoKGU6IHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfSkgPT4gbmV3IFBJWEkuUG9pbnQoZS54LCBlLnkpKSk7XG5cdH1cblxuXHRhYnN0cmFjdCBnZXRUb29scygpOiBUb29sVUlbXVxuXHRhYnN0cmFjdCBzaG93VG9vbHMoKTogdm9pZFxuXHRhYnN0cmFjdCBoaWRlVG9vbHMoKTogdm9pZFxuXG5cdGNsZWFyVG9vbCgpIHtcblx0XHR0aGlzLnNldE1vZGUoVG9vbE1vZGUuTm90UGxhY2VkKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzdGF0aWMgY3JlYXRlVGV4dCh0ZXh0OiBzdHJpbmcpOiBQcmVjaXNlVGV4dCB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IFByZWNpc2VUZXh0KHRleHQsIEJlemllclRvb2wuVEVYVF9TVFlMRSk7XG5cdFx0cmVzdWx0LmFuY2hvci5zZXQoMC41LCAwLjUpO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblx0cHJvdGVjdGVkIGRyYXdTZWdtZW50TGFiZWwoY29udGV4dDogUElYSS5HcmFwaGljcykge1xuXHRcdGNvbnN0IHRleHQgPSBCZXppZXJUb29sLmNyZWF0ZVRleHQoYOKKtyR7dGhpcy5sYXN0U2VnbWVudEZldGNoLmxlbmd0aCAtIDF9YCk7XG5cdFx0dGV4dC5wb3NpdGlvbiA9IHRoaXMubGluZUNlbnRlcjtcblx0XHRjb250ZXh0LmFkZENoaWxkKHRleHQpO1xuXHR9XG5cdHByb3RlY3RlZCBkcmF3Qm91bmRpbmdCb3goY29udGV4dDogUElYSS5HcmFwaGljcykge1xuXHRcdGNvbnN0IGJvdW5kcyA9IHRoaXMuYm91bmRzLmdldFJlY3RhbmdsZShQSVhJLlJlY3RhbmdsZS5FTVBUWSk7XG5cdFx0Y29udGV4dC5iZWdpbkZpbGwoMCwgMClcblx0XHRcdC5saW5lU3R5bGUoQmV6aWVyVG9vbC5MSU5FX1NJWkUsIDB4RTg4RDJELCAxLCAwLjUpXG5cdFx0XHQuZHJhd1JvdW5kZWRSZWN0KGJvdW5kcy5sZWZ0IC0gMTAsIGJvdW5kcy50b3AgLSAxMCwgYm91bmRzLndpZHRoICsgMjAsIGJvdW5kcy5oZWlnaHQgKyAyMCwgMTApXG5cdFx0XHQuZW5kRmlsbCgpXG5cdH1cblx0cHJvdGVjdGVkIGRyYXdIYW5kbGUoY29udGV4dDogUElYSS5HcmFwaGljcywgZmlsbDogbnVtYmVyLCBwb2ludDogUElYSS5Qb2ludCk6IFBJWEkuR3JhcGhpY3Mge1xuXHRcdHJldHVybiBjb250ZXh0LmJlZ2luRmlsbChmaWxsLCAxKVxuXHRcdFx0LmxpbmVTdHlsZShCZXppZXJUb29sLkxJTkVfU0laRSwgMHgwLCAxLCAwLjUpXG5cdFx0XHQuZHJhd0NpcmNsZShwb2ludC54LCBwb2ludC55LCBCZXppZXJUb29sLkhBTkRMRV9SQURJVVMpXG5cdFx0XHQuZW5kRmlsbCgpO1xuXHR9XG5cblx0c3RhdGljIHBvaW50TmVhclBvaW50KGE6IHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfSwgYjogeyB4OiBudW1iZXIsIHk6IG51bWJlciB9LCB0aHJlc2hvbGQ6IG51bWJlcik6IGJvb2xlYW4ge1xuXHRcdHZhciB4ID0gYS54IC0gYi54O1xuXHRcdHZhciB5ID0gYS55IC0gYi55O1xuXHRcdHJldHVybiAoKHggKiB4KSArICh5ICogeSkpIDw9ICh0aHJlc2hvbGQgKiB0aHJlc2hvbGQpOyAvLyBzdXBlciBzaW1wbGUgYW5kIGVmZmljaWVudCBTcXVhcmVkIExlbmd0aCBjaXJjbGUgY29sbGlzaW9uXG5cdH1cbn0iXX0=
